
name: appsyncmasterclass
schema: 'schema.api.graphql'
authentication:
  type: 'AMAZON_COGNITO_USER_POOLS'
  config:
    awsRegion: eu-west-1
    defaultAction: ALLOW
    userPoolId: !Ref CognitoUserPool
pipelineFunctions:
  getMyProfile:
    dataSource: usersTable
    code: resolvers/getMyProfile.js
resolvers:
  Query.getMyProfile:
    functions:
      - getMyProfile

dataSources:
  none:
    type: NONE
  usersTable:
    type: AMAZON_DYNAMODB
    config:
      tableName: !Ref UsersTable